import{_ as h,o as a,c as l,F as g,a as $,g as e,t as _,n as p,d,p as w,i as f,j as y,r as u,b as I,f as k,e as b}from"./app-Cc46qtVJ.js";import{T as G,H as V,P as T}from"./preloader-BTqg0Yju.js";const M={name:"HubTable",computed:{hubGroups(){return Array.from(this.vueStore.groupsMap).filter(t=>t[1].parentGroupId=="-1").sort((t,i)=>t[1].groupOrder-i[1].groupOrder)},allClicks(){return String(this.vueStore.allClicksValue).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")},allCoasts(){return String(this.vueStore.allCostValue.toFixed(0)).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")+" ₽"},allImpressions(){return String(this.vueStore.allImpressionsValue).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}},setup(){return{vueStore:window._vueStore}}},E=s=>(w("data-v-b3e43f14"),s=s(),f(),s),H={key:0,class:"table"},F={class:"table_row"},N={class:"table_row_item"},P={class:"table_row_item"},z={class:"front_cell"},A={key:0,class:"table_row_item_bubble_wrapper"},B={class:"table_row_item_bubble"},O={class:"table_row_item"},R={class:"front_cell"},L={class:"table_footer"},q=E(()=>e("div",{class:"table_footer_item"},"Итого",-1)),j={class:"table_footer_item"},D={key:0,class:"table_row_item_bubble_wrapper"},J={class:"table_row_item_bubble"},K={class:"table_footer_item"};function Q(s,t,i,c,v,r){return c.vueStore.loading==!1?(a(),l("div",H,[(a(!0),l(g,null,$(r.hubGroups,([n,o])=>(a(),l("div",F,[e("div",N,_(o.groupName),1),e("div",P,[e("div",{class:"back_cell",style:p({width:o.ImpressionsPerc+"%"})},null,4),e("div",z,_(o.ImpressionsStr),1)]),100*o.Clicks/o.Impressions?(a(),l("div",A,[e("div",B,_(String((100*o.Clicks/o.Impressions).toFixed(3)).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")+" %"),1)])):d("",!0),e("div",O,[e("div",{class:"back_cell",style:p({width:o.ClicksPerc+"%"})},null,4),e("div",R,_(o.ClicksStr),1)])]))),256)),e("div",L,[q,e("div",j,_(r.allImpressions),1),100*c.vueStore.allClicksValue/c.vueStore.allImpressionsValue?(a(),l("div",D,[e("div",J,_(String((100*c.vueStore.allClicksValue/c.vueStore.allImpressionsValue).toFixed(3)).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")+" %"),1)])):d("",!0),e("div",K,_(r.allClicks),1)])])):d("",!0)}const U=h(M,[["render",Q],["__scopeId","data-v-b3e43f14"]]),W={name:"SubGroupsItem",props:["groupId"],computed:{group(){return this.vueStore.groupsMap.get(`${this.groupId}`)},groupCTR(){const s=this.vueStore.groupsMap.get(`${this.groupId}`),t=100*s.Clicks/s.Impressions;return t?String(t.toFixed(3)).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")+" %":""},campaigns(){return Array.from(this.vueStore.campaignsMap).filter(t=>t[1].parentId==this.groupId)}},setup(){return{vueStore:window._vueStore}},methods:{onExpanderClick(s){const t=this.vueStore.groupsMap.get(`${s}`);t.tableGroupsExtended=!t.tableGroupsExtended}}},S=s=>(w("data-v-7a4465ec"),s=s(),f(),s),X={class:"table_row"},Y={class:"table_row_item"},Z={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},ee=S(()=>e("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"},null,-1)),se=S(()=>e("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"},null,-1)),te=[ee,se],re={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-dash-square",viewBox:"0 0 16 16"},oe=S(()=>e("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"},null,-1)),ae=S(()=>e("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"},null,-1)),le=[oe,ae],_e={class:"name_label"},ce={class:"table_row_item"},de={class:"front_cell"},ie={key:0,class:"table_row_item_bubble_wrapper"},ne={class:"table_row_item_bubble"},ue={class:"table_row_item"},pe={class:"front_cell"},be={class:"table_row campaigns"},he={class:"table_row_item"},ve=S(()=>e("div",{class:"campaign_shift"},null,-1)),me={class:"table_row_item"},ge={class:"front_cell"},Se={key:0,class:"table_row_item_bubble_wrapper"},$e={class:"table_row_item_bubble"},we={class:"table_row_item"},fe={class:"front_cell"};function Ie(s,t,i,c,v,r){return a(),l(g,null,[e("div",X,[e("div",Y,[r.campaigns.length>0?(a(),l("div",{key:0,class:"group_expander",onClick:t[0]||(t[0]=n=>r.onExpanderClick(r.group.groupId))},[r.group.tableGroupsExtended==!1?(a(),l("svg",Z,te)):d("",!0),r.group.tableGroupsExtended==!0?(a(),l("svg",re,le)):d("",!0)])):d("",!0),e("div",_e,_(r.group.groupName),1)]),e("div",ce,[e("div",{class:"back_cell",style:p({width:r.group.ImpressionsPerc+"%"})},null,4),e("div",de,_(r.group.ImpressionsStr),1)]),r.groupCTR!=""?(a(),l("div",ie,[e("div",ne,_(r.groupCTR),1)])):d("",!0),e("div",ue,[e("div",{class:"back_cell",style:p({width:r.group.ClicksPerc+"%"})},null,4),e("div",pe,_(r.group.ClicksStr),1)])]),r.group.tableGroupsExtended?(a(!0),l(g,{key:0},$(r.campaigns,([n,o])=>(a(),l("div",be,[e("div",he,[ve,y(" "+_(o.CampaignName),1)]),e("div",me,[e("div",{class:"back_cell",style:p({width:o.ImpressionsPerc+"%"})},null,4),e("div",ge,_(o.ImpressionsStr),1)]),o.Impressions>0&&o.Clicks>0?(a(),l("div",Se,[e("div",$e,_(String((100*o.Clicks/o.Impressions).toFixed(3)).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")+" %"),1)])):d("",!0),e("div",we,[e("div",{class:"back_cell",style:p({width:o.ClicksPerc+"%"})},null,4),e("div",fe,_(o.ClicksStr),1)])]))),256)):d("",!0)],64)}const ke=h(W,[["render",Ie],["__scopeId","data-v-7a4465ec"]]),Ce={name:"SubGroupsTable",props:["groupId"],components:{"sub-groups-item":ke},computed:{group(){return this.vueStore.groupsMap.get(`${this.groupId}`)},subGroups(){return Array.from(this.vueStore.groupsMap).filter(t=>t[1].parentGroupId==this.groupId).sort((t,i)=>t[1].groupOrder-i[1].groupOrder)}},setup(){return{vueStore:window._vueStore}},methods:{}},C=s=>(w("data-v-33eeb0ff"),s=s(),f(),s),xe={class:"hubs_groups"},ye={class:"table_header"},Ge={class:"table_header_item"},Ve=C(()=>e("div",{class:"table_header_item"},null,-1)),Te=C(()=>e("div",{class:"table_header_item"},null,-1));function Me(s,t,i,c,v,r){const n=u("sub-groups-item");return a(),l("div",xe,[e("div",ye,[e("div",Ge,_(r.group.groupName),1),Ve,Te]),(a(!0),l(g,null,$(r.subGroups,([o,m])=>(a(),I(n,{groupId:m.groupId},null,8,["groupId"]))),256))])}const Ee=h(Ce,[["render",Me],["__scopeId","data-v-33eeb0ff"]]),He={name:"HubSubTable",components:{"sub-groups-table":Ee},computed:{hubGroups(){return Array.from(this.vueStore.groupsMap).filter(t=>t[1].parentGroupId=="-1").sort((t,i)=>t[1].groupOrder-i[1].groupOrder)}},setup(){return{vueStore:window._vueStore}}},Fe={key:0,class:"table"};function Ne(s,t,i,c,v,r){const n=u("sub-groups-table");return c.vueStore.loading==!1?(a(),l("div",Fe,[(a(!0),l(g,null,$(r.hubGroups,([o,m])=>(a(),I(n,{groupId:m.groupId},null,8,["groupId"]))),256))])):d("",!0)}const Pe=h(He,[["render",Ne],["__scopeId","data-v-41da097f"]]),ze={name:"TableListCTR",components:{"hub-table":U,"hub-sub-table":Pe},computed:{allClicks(){return String(this.vueStore.allClicksValue).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")},allCoasts(){return String(this.vueStore.allCostValue.toFixed(0)).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")+" ₽"},allImpressions(){return String(this.vueStore.allImpressionsValue).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}},setup(){const s=window._vueStore,t=k(!1);return{vueStore:s,allExpander:t}},methods:{onAllExpanderClick(){this.allExpander=!this.allExpander}}},Ae={class:"table_list_body"};function Be(s,t,i,c,v,r){const n=u("hub-table"),o=u("hub-sub-table");return a(),l("div",Ae,[b(n),b(o)])}const Oe=h(ze,[["render",Be],["__scopeId","data-v-ccd1817e"]]),Re={name:"ctrView",components:{"table-list-ctr":Oe,"table-list-header":G,"header-tabs":V,preloader:T},setup(){const s=k(0),t=window._vueStore;return{activeTab:s,vueStore:t}}},Le=s=>(w("data-v-4e680a8e"),s=s(),f(),s),qe={class:"work_area"},je={class:"tabs_area"},De={class:"tabs_area_header_wrapper"},Je={class:"tabs_area_header"},Ke={key:0,class:"table_header_wrapper"},Qe=Le(()=>e("div",{class:"table_header"},[e("div",{class:"table_header_item",style:{width:"280px"}},"Категория"),e("div",{class:"table_header_item"},"Показов"),e("div",{class:"table_header_item"},"Кликов")],-1)),Ue=[Qe],We={class:"tabs_area_body_wrapper"},Xe={class:"tabs_area_body"},Ye={key:0,class:"tab_panel table active"};function Ze(s,t,i,c,v,r){const n=u("table-list-header"),o=u("header-tabs"),m=u("preloader"),x=u("table-list-ctr");return a(),l("div",qe,[e("div",je,[e("div",De,[e("div",Je,[b(n),b(o)])]),c.vueStore.loading==!1?(a(),l("div",Ke,Ue)):d("",!0),b(m),e("div",We,[e("div",Xe,[c.vueStore.loading==!1?(a(),l("div",Ye,[b(x)])):d("",!0)])])])])}const ts=h(Re,[["render",Ze],["__scopeId","data-v-4e680a8e"]]);export{ts as default};
