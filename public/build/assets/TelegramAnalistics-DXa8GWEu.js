import{S as h,H as C}from"./SubGroupsTable-mt8dUVJU.js";import{_ as m,r as _,o as l,c as r,F as T,a as y,b as f,d,e as u,m as b,f as i,t as A,i as I,p as S,g as M}from"./app-BaVlKkDk.js";const k={name:"HubSubTable",components:{"sub-groups-table":h},computed:{hubGroups(){return Array.from(this.vueStore.groupsMap).filter(t=>t[1].parentGroupId=="-1").sort((t,n)=>t[1].groupOrder-n[1].groupOrder)}},setup(){return{vueStore:window._vueStore}}},$={key:0,class:"table"};function P(s,t,n,a,e,o){const c=_("sub-groups-table");return a.vueStore.loading==!1?(l(),r("div",$,[(l(!0),r(T,null,y(o.hubGroups,([p,g])=>(l(),f(c,{groupId:g.groupId},null,8,["groupId"]))),256))])):d("",!0)}const R=m(k,[["render",P],["__scopeId","data-v-15abb2b2"]]),N={name:"TableListTelegram",components:{"hub-table":C,"hub-sub-table":R}},w={class:"table_list_body"},G=b('<div class="table_header_wrapper" style="position:relative;top:0px;z-index:0;margin-top:30px;"><div class="table_header"><div class="table_header_item">Категория</div><div class="table_header_item">Расход с НДС</div><div class="table_header_item">Показов</div><div class="table_header_item">Кликов</div></div></div>',1);function x(s,t,n,a,e,o){const c=_("hub-table"),p=_("hub-sub-table");return l(),r("div",w,[u(c),G,u(p)])}const E=m(N,[["render",x]]),B={name:"CostTableTelegram",computed:{statistics(){const s={campaignsTypesList:{},campaignsTypesResult:{Count:0,Cost:0,Clicks:0,Impressions:0,CPC:0,CTR:0}},t=[];for(const[a,e]of this.vueStore.campaignsMap)t.push(e.CampaignType);const n=new Set(t);for(const a of n){const e={Type:a,Count:0,Cost:0,Clicks:0,Impressions:0,CPC:0,CTR:0},o=Array.from(this.vueStore.campaignsMap).filter(c=>c[1].CampaignType==a);for(const[c,p]of o)e.Count++,e.Cost+=p.Cost,e.Clicks+=p.Clicks,e.Impressions+=p.Impressions;e.CPC=e.Clicks?e.Cost/e.Clicks:0,e.CTR=e.Impressions!=0?100*e.Clicks/e.Impressions:0,s.campaignsTypesList[`${a}`]=e,s.campaignsTypesResult.Count+=e.Count,s.campaignsTypesResult.Cost+=e.Cost,s.campaignsTypesResult.Clicks+=e.Clicks,s.campaignsTypesResult.Impressions+=e.Impressions}s.campaignsTypesResult.CPC+=s.campaignsTypesResult.Clicks?s.campaignsTypesResult.Cost/s.campaignsTypesResult.Clicks:0,s.campaignsTypesResult.CTR+=s.campaignsTypesResult.Impressions!=0?100*s.campaignsTypesResult.Clicks/s.campaignsTypesResult.Impressions:0;for(const a of n){const e=s.campaignsTypesList[`${a}`];e.CostPerc=Number(100*e.Cost/s.campaignsTypesResult.Cost),e.ImpressionsPerc=Number(100*e.Impressions/s.campaignsTypesResult.Impressions),e.ClicksPerc=Number(100*e.Clicks/s.campaignsTypesResult.Clicks)}return s},lastDayValue(){const s=Array.from(this.vueStore.costsMap.values()).pop(),t=Object.values(s).slice(-2,-1)[0];return String(t).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")+" ₽"},lastMonth(){const s=Array.from(this.vueStore.costsMap.keys()).pop(),t=Array.from(this.vueStore.costsMap.values()).pop();return console.debug(s,t),[s,t]}},setup(){return{vueStore:window._vueStore}},methods:{getMonth(s){const t={"01":"Январь","02":"Февраль","03":"Март","04":"Апрель","05":"Май","06":"Июнь","07":"Июль","08":"Август","09":"Сентябрь",10:"Октябрь",11:"Ноябрь",12:"Декабрь"};return`${s}`in t?t[`${s}`]:""},getCampaignType(s){const t={TEXT_CAMPAIGN:"Текстово-графические объявления",UNIFIED_CAMPAIGN:"Единая перфоманс кампания",SMART_CAMPAIGN:"Смарт-баннеры",DYNAMIC_TEXT_CAMPAIGN:"Динамические объявления",MOBILE_APP_CAMPAIGN:"Реклама мобильных приложений",MCBANNER_CAMPAIGN:"Баннер на поиске",CPM_BANNER_CAMPAIGN:"Медийная кампания",CPM_DEALS_CAMPAIGN:"Медийная кампания со сделками",CPM_FRONTPAGE_CAMPAIGN:"Медийная кампания на Главной",CPM_PRICE:"Кампания с фиксированным СРМ"};return`${s}`in t?t[`${s}`]:""}}},L={key:0,class:"table"},D={class:"charts_table_wrapper"},z={class:"charts_table"},O={class:"last_day_coast"};function V(s,t,n,a,e,o){const c=_("line-chart");return a.vueStore.loading==!1?(l(),r("div",L,[i("div",D,[i("div",z,[u(c,{title:o.getMonth(o.lastMonth[0]),data:o.lastMonth[1],suffix:" ₽",thousands:" "},null,8,["title","data"])])]),i("div",O,"Траты за вчерашний день = "+A(o.lastDayValue),1)])):d("",!0)}const F=m(B,[["render",V],["__scopeId","data-v-86222d10"]]),H={name:"TelegramAnalistics",components:{"table-list-all":E,"cost-table-telegram":F},setup(){const s=I(0),t=window._vueStore;return{activeTab:s,vueStore:t}},methods:{setActiveTab(s){this.activeTab=s},onPeriodChange(s){console.log(s.target.value),window._vueStore.setup(s.target.value)}}},v=s=>(S("data-v-5aa8925d"),s=s(),M(),s),j={class:"work_area"},X={class:"tabs_area"},q={key:0,class:"pre_loader"},K=v(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"currentColor",class:"bi bi-gear",viewBox:"0 0 16 16"},[i("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),i("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})],-1)),U=v(()=>i("div",null,"Загрузка ...",-1)),Y=[K,U],J={class:"tabs_area_body_wrapper"},Q={class:"tabs_area_body"},W={key:0},Z={key:1,class:"block_title"},ss={key:2},es=b('<div class="table_header_wrapper" style="position:relative;top:0px;z-index:0;" data-v-5aa8925d><div class="table_header" data-v-5aa8925d><div class="table_header_item" data-v-5aa8925d>Категория</div><div class="table_header_item" data-v-5aa8925d>Расход с НДС</div><div class="table_header_item" data-v-5aa8925d>Показов</div><div class="table_header_item" data-v-5aa8925d>Кликов</div></div></div>',1);function ts(s,t,n,a,e,o){const c=_("cost-table-telegram"),p=_("table-list-all");return l(),r("div",j,[i("div",X,[a.vueStore.loading==!0?(l(),r("div",q,Y)):d("",!0),i("div",J,[i("div",Q,[a.vueStore.loading==!1?(l(),r("div",W,[u(c)])):d("",!0),a.vueStore.loading==!1?(l(),r("div",Z,"Данные за вчерашний день")):d("",!0),a.vueStore.loading==!1?(l(),r("div",ss,[es,u(p)])):d("",!0)])])])])}const cs=m(H,[["render",ts],["__scopeId","data-v-5aa8925d"]]);export{cs as default};
